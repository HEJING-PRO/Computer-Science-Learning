# 第四章 对象和类

## 4.1 面向对象程序设计概述

1. 由类构造对象的过程称为创建类的实例。
2. 类之间的关系
   - 依赖：最明显、最常见的关系。一个类的方法使用或操作另一个类的对象，该对象在方法内部声明，即作为方法的临时变量。应尽可能减少相互依赖的类，即减少类之间的耦合。
   - 聚合：一个类的对象包含另一个类的对象，该对象在类中声明。
   - 继承：子类与父类的关系，子类不仅包含从父类继承的方法，还拥有额外的功能。
3. 对象：对象变量并没有实际包含一个对象，只是引用一个对象。任何对象变量的值都是对存储在另一个地方的某个对象的引用。`new`操作符只是返回一个引用。可以显示地将对象变量设置为`null`，指示该对象变量目前未引用任何对象。

## 4.2 使用预定义类

1. `LocalDate`类：不要使用构造器构造`LocalDate`类的对象，应使用静态工厂方法代表调用构造器。

   ```java
   // 构造一个对象，获取当前时间
   LocalDate.now();
   // 提供年月日构造对应一个特定日期的对象
   LocalDate.of(2023,11,03);
   ```

## 4.3 用户自定义类

1. 构造器：通常结合`new`运算符调用，不能对一个已经存在的对象调用构造器达到重新设置实例字段的目的；与类同名；每个类可存在多个构造器；无返回值。

2. 用`var`声明局部变量（Java 10）：若能从变量的初始值推导其类型，则可使用`var`关键字声明局部变量，无需指定类型。

   > 注：`var`关键字只能用于方法中的局部变量，参数和字段的类型必须声明。

3. 隐式参数和显式参数：方法参数列表中的参数为显式参数，方法的调用者为隐式参数。在每一个方法中，`this`指示方法调用的目标或接收者。

4. 访问器方法：只访问对象但不修改对象的方法；若需要返回一个可变数据字段的副本，应使用`clone`。

   > 注：不要编写返回可变对象引用的访问器方法。

5. `final`实例字段：此类字段必须在构造对象时初始化，且后续无法被修改。

## 4.4 静态字段和静态方法

1. 静态字段（类字段）：若将一个字段定义为`static`，则类只有一个这样的字段，即该类的所有实例对象共享该字段；即使没有对象，该字段依然存在；静态字段属于类，不属于单个对象。

2. 静态常量：

   ```java
   // 由于 final 修饰的变量为常量，无法修改，故可以使用 public 修饰
   public static final double PI = 3.14;
   ```

3. 静态方法：不在对象上执行的方法，通过类名直接调用，无`this`参数，可以访问静态字段。当方法不需要访问对象状态（所需参数通过显式参数提供）或只需访问类的静态字段时，使用静态方法。

4. `main`方法：每个类可以有一个`main`方法，用于对其进行单元测试。

## 4.5 方法参数

1. 按值调用：方法接收的是调用者提供的值。
2. 按引用调用：方法接收的是调用者提供的变量地址。
3. 结论
   - 方法不能修改基本数据类型的参数；
   - 方法可以改变对象参数的状态；
   - 方法不能让一个对象参数引用一个新的对象。

## 4.6 对象构造

1. 重载：多个方法有相同的名字、不同的参数（类型、顺序、名字）。

## 4.7 包



## 4.8 JAR 文件



## 4.9 文档注释



## 4.10 类设计技巧 